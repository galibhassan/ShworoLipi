!function(e){var r={};function t(n){if(r[n])return r[n].exports;var s=r[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=7)}([function(e,r){var t=function(e){switch(e){case"-":return"-";case"SA_":case"সা_":return-11;case"re_":case"ঋ_":return-10;case"RE_":case"রে_":case"রা_":return-9;case"ga_":case"জ্ঞা_":return-8;case"GA_":case"গা_":return-7;case"ma_":case"মা_":return-6;case"MA_":case"হ্মা_":return-5;case"PA_":case"pa_":case"পা_":return-4;case"da_":case"দা_":return-3;case"DHA_":case"ধা_":return-2;case"ni_":case"ণি_":case"ণা_":case"ণী_":return-1;case"NI_":case"না_":case"নি_":case"নী_":return 0;case"SA":case"সা":return 1;case"re":case"ঋ":return 2;case"RE":case"রে":case"রা":return 3;case"ga":case"জ্ঞা":return 4;case"GA":case"গা":return 5;case"ma":case"মা":return 6;case"MA":case"হ্মা":return 7;case"PA":case"pa":case"পা":return 8;case"da":case"দা":return 9;case"DHA":case"ধা":return 10;case"ni":case"ণি":case"ণা":case"ণী":return 11;case"NI":case"না":case"নি":case"নী":return 12;case"SA*":case"সা*":return 13;case"re*":case"ঋ*":return 14;case"RE*":case"রে*":case"রা*":return 15;case"ga*":case"জ্ঞা*":return 16;case"GA*":case"গা*":return 17;case"ma*":case"মা*":return 18;case"MA*":case"হ্মা*":return 19;case"PA*":case"pa*":case"পা*":return 20;case"da*":case"দা*":return 21;case"DHA*":case"ধা*":return 22;case"ni*":case"ণি*":case"ণা*":case"ণী*":return 23;case"NI*":case"না*":case"নি*":case"নী*":return 24;default:return"InvalidNote"}},n=function(e,r,t,n){if("-"===t)return`../${e}/${r}/-.${n}`;for(var s=0;s<8;s++)switch(t){case`C${s}`:return`../${e}/${r}/C${s}.${n}`;case`Cs${s}`:return`../${e}/${r}/Cs${s}.${n}`;case`D${s}`:return`../${e}/${r}/D${s}.${n}`;case`Ds${s}`:return`../${e}/${r}/Ds${s}.${n}`;case`E${s}`:return`../${e}/${r}/E${s}.${n}`;case`F${s}`:return`../${e}/${r}/F${s}.${n}`;case`Fs${s}`:return`../${e}/${r}/Fs${s}.${n}`;case`G${s}`:return`../${e}/${r}/G${s}.${n}`;case`Gs${s}`:return`../${e}/${r}/Gs${s}.${n}`;case`A${s}`:return`../${e}/${r}/A${s}.${n}`;case`Bf${s}`:return`../${e}/${r}/Bf${s}.${n}`;case`B${s}`:return`../${e}/${r}/B${s}.${n}`}};relativeNoteArrToNumArr=function(e){numArr=[];for(var r=0;r<e.length;r++)numArr.push(t(e[r]));return numArr},e.exports={noteToNum:t,relativeNoteArrToNumArr:relativeNoteArrToNumArr,noteToFreq:function(e){switch(e){case"C5":return 523.25;case"Cs5":return 587.33;case"D5":return 554.37;case"Ds5":return 622.25;case"E5":return 659.25;case"F5":return 698.46;case"Fs5":return 739.99;case"G5":return 783.99;case"Gs5":return 830.61;case"A5":return 880;case"Bf5":return 932.33;case"B5":return 987.77;case"C6":return 1046.5}},absNoteArrToFileArr:function(e,r,t,s){fileNameArr=[],s=s||"ogg";for(var o=0;o<t.length;o++)fileNameArr.push(n(e,r,t[o],s));return fileNameArr}}},function(e,r){function t(e,r,t){this.context=e,this.urlList=r,this.onload=t,this.bufferList=new Array,this.loadCount=0}t.prototype.loadBuffer=function(e,r){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer";var n=this;t.onload=function(){n.context.decodeAudioData(t.response,function(t){t?(n.bufferList[r]=t,++n.loadCount==n.urlList.length&&n.onload(n.bufferList)):alert("error decoding file data: "+e)},function(e){console.error("decodeAudioData error",e)})},t.onerror=function(){alert("BufferLoader: XHR error")},t.send()},t.prototype.load=function(){for(var e=0;e<this.urlList.length;++e)this.loadBuffer(this.urlList[e],e)},e.exports=t},function(e,r){e.exports={findNoteIndexInAllNotes:function(e,r){for(var t=0;t<e.length;t++)if(e[t]===r)return t},mergeBarsIntoSingleArr:function(e){for(var r=[],t=0;t<e.length;t++)r=r.concat(e[t]);return r},makeCumulativeArr:function(e){resultArr=[],currentSum=0;for(var r=0;r<e.length;r++)currentSum+=e[r],resultArr.push(currentSum);return resultArr},makeTimeArr:function(e,r){for(noteCount of(timeArr=[],e))for(var t=0;t<noteCount;t++)entryToPush=Number((r/noteCount).toFixed(2)),timeArr.push(entryToPush);return timeArr}}},function(e,r,t){var n=t(0),s=t(1);e.exports={initSound:function(e,r,t){window.AudioContext=window.AudioContext||window.webkitAudioContext,context=new AudioContext;var o=n.absNoteArrToFileArr("instruments","guitarAcoustic",e,"ogg");console.log(o),console.log(t),new s(context,o,function(e){for(var r=0;r<e.length;r++)n=e[r],s=context.currentTime+t[r],o=void 0,(o=context.createBufferSource()).buffer=n,o.connect(context.destination),o.start(s);var n,s,o}).load()}}},function(e,r){e.exports=["C0","Cs0","D0","Ds0","E0","F0","Fs0","G0","Gs0","A0","Bf0","B0","C1","Cs1","D1","Ds1","E1","F1","Fs1","G1","Gs1","A1","Bf1","B1","C2","Cs2","D2","Ds2","E2","F2","Fs2","G2","Gs2","A2","Bf2","B2","C3","Cs3","D3","Ds3","E3","F3","Fs3","G3","Gs3","A3","Bf3","B3","C4","Cs4","D4","Ds4","E4","F4","Fs4","G4","Gs4","A4","Bf4","B4","C5","Cs5","D5","Ds5","E5","F5","Fs5","G5","Gs5","A5","Bf5","B5","C6","Cs6","D6","Ds6","E6","F6","Fs6","G6","Gs6","A6","Bf6","B6","C7","Cs7","D7","Ds7","E7","F7","Fs7","G7","Gs7","A7","Bf7","B7","-"]},function(e,r,t){var n=t(4),s=t(0),o=t(2),a=function(e,r){this.tonic=r,this.relativeNotes=e};a.prototype.constructor=a,a.prototype.length=function(){return this.relativeNotes.length},a.prototype.getNumberedNotes=function(){return s.relativeNoteArrToNumArr(this.relativeNotes)},a.prototype.getAbsoluteNotes=function(){requiredPositionsInAllNotes=[],tonicPosition=o.findNoteIndexInAllNotes(n,this.tonic),numberedNotes=this.getNumberedNotes();for(var e=0;e<this.relativeNotes.length;e++)"-"===numberedNotes[e]?requiredPositionsInAllNotes.push(96):requiredPositionsInAllNotes.push(tonicPosition+numberedNotes[e]-1);absoluteNotes=[];for(e=0;e<requiredPositionsInAllNotes.length;e++)absoluteNotes.push(n[requiredPositionsInAllNotes[e]]);return absoluteNotes},e.exports=a},function(e,r){function t(e){return arr=e.split("+"),{count:arr.length,notes:arr}}var n=function(e){for(el of(tempArr=[],e))""!==el&&"\n"!==el&&tempArr.push(el);return tempArr};e.exports={generateThings:function(e){arr=e.split("\n");for(var r=(e=arr.join(" ")).split("/"),s=[],o=[],a=0;a<r.length;a++){singleRelativeNotesInBars=r[a].split(" "),singleRelativeNotesInBars=n(singleRelativeNotesInBars),s.push([]);for(var u=0;u<singleRelativeNotesInBars.length;u++){relativeFractionalNote=t(singleRelativeNotesInBars[u]);for(var c=0;c<relativeFractionalNote.notes.length;c++)o.push(relativeFractionalNote.notes[c].trim());s[a].push(relativeFractionalNote.count)}}o=function(e){for(element of(trimmedArr=[],e))element.includes(" ")||""!==element&&trimmedArr.push(element);return trimmedArr}(o);var i=new Set(o);return{noteList:o,noteSet:Array.from(i),bars:function(e){for(var r=[],t=0;t<e.length;t++)r.push(e[t].trim());return r}(r),noOfBars:r.length,barsWithNoteCount:s}}}},function(e,r,t){var n=t(6),s=t(5),o=(t(1),t(2)),a=(t(0),t(3)),u="C5",c=160,i=60/c;window.addEventListener("load",function(){var e=document.getElementById("tonic");e.addEventListener("change",function(){u=e.value,console.log(u)});var r=document.getElementById("tempo");r.addEventListener("change",function(){c=r.value,i=60/c}),document.getElementById("mainButton").addEventListener("mousedown",function(){var e=document.getElementById("userInputNotes").innerText,r=n.generateThings(e),t=new s(r.noteList,u).getAbsoluteNotes(),l=o.mergeBarsIntoSingleArr(r.barsWithNoteCount),f=o.makeTimeArr(l,i),d=o.makeCumulativeArr(f);d.unshift(0),a.initSound(t,i,d),document.getElementById("warningDiv").innerText="Song info: \nRelative Notes: "+r.noteList+"\nNote Set (Unique): "+r.noteSet+"\nNo. of Bars: "+r.noOfBars+"\nNote-count in single position: "+r.barsWithNoteCount+"\n"+`Absolute notes in ${u} scale: `+t+"\nTime-array (note duration): "+f+"\nCumulative time-array: "+d+"\n"+`Tempo: ${c}, Single beat duration (in second): ${i}`})})}]);